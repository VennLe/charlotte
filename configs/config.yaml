# Charlotte API 服务组件配置
# 此文件包含各组件的详细配置，全局配置请参考.env文件

# 数据库连接池配置
database:
  max_open_conns: 100
  max_idle_conns: 10
  conn_max_lifetime: 3600
  conn_max_idle_time: 1800

# Redis连接池配置
redis:
  pool_size: 20
  min_idle_conns: 5
  max_conn_age: 0
  pool_timeout: 4

# Kafka消费者配置
kafka:
  topic: "user-events"
  group_id: "charlotte-group"
  auto_offset_reset: "latest"
  session_timeout: 10000
  heartbeat_interval: 3000
  max_poll_interval: 300000

# JWT认证配置
jwt:
  expire: 24
  issuer: "charlotte-api"
  audience: "charlotte-users"

# 日志详细配置
log:
  level: "info"
  encoding: "json"
  output_paths:
    - "stdout"
    - "./logs/app.log"
  error_output_paths:
    - "stderr"
  development: true
  disable_caller: false
  disable_stacktrace: false
  initial_fields:
    app: "charlotte"
    version: "1.0.0"

# 数据库迁移配置
migrate:
  enabled: true
  auto_migrate: true
  drop_tables: false
  models:
    - "user"
    - "user_event"
  create_indexes: true
  verbose: true

# 应用性能配置
performance:
  request_timeout: 30
  response_timeout: 30
  max_request_size: 10485760
  rate_limit: 1000

# 健康检查配置
health:
  enabled: true
  path: "/health"
  interval: 30
  timeout: 5